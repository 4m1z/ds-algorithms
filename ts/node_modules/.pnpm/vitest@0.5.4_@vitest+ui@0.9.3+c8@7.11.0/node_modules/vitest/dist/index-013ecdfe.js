import require$$0 from 'tty';
import { isPackageExists } from 'local-pkg';

var picocolors = {exports: {}};

let tty = require$$0;

let isColorSupported =
	!("NO_COLOR" in process.env || process.argv.includes("--no-color")) &&
	("FORCE_COLOR" in process.env ||
		process.argv.includes("--color") ||
		process.platform === "win32" ||
		(tty.isatty(1) && process.env.TERM !== "dumb") ||
		"CI" in process.env);

let formatter =
	(open, close, replace = open) =>
	input => {
		let string = "" + input;
		let index = string.indexOf(close, open.length);
		return ~index
			? open + replaceClose(string, close, replace, index) + close
			: open + string + close
	};

let replaceClose = (string, close, replace, index) => {
	let start = string.substring(0, index) + replace;
	let end = string.substring(index + close.length);
	let nextIndex = end.indexOf(close);
	return ~nextIndex ? start + replaceClose(end, close, replace, nextIndex) : start + end
};

let createColors = (enabled = isColorSupported) => ({
	isColorSupported: enabled,
	reset: enabled ? s => `\x1b[0m${s}\x1b[0m` : String,
	bold: enabled ? formatter("\x1b[1m", "\x1b[22m", "\x1b[22m\x1b[1m") : String,
	dim: enabled ? formatter("\x1b[2m", "\x1b[22m", "\x1b[22m\x1b[2m") : String,
	italic: enabled ? formatter("\x1b[3m", "\x1b[23m") : String,
	underline: enabled ? formatter("\x1b[4m", "\x1b[24m") : String,
	inverse: enabled ? formatter("\x1b[7m", "\x1b[27m") : String,
	hidden: enabled ? formatter("\x1b[8m", "\x1b[28m") : String,
	strikethrough: enabled ? formatter("\x1b[9m", "\x1b[29m") : String,
	black: enabled ? formatter("\x1b[30m", "\x1b[39m") : String,
	red: enabled ? formatter("\x1b[31m", "\x1b[39m") : String,
	green: enabled ? formatter("\x1b[32m", "\x1b[39m") : String,
	yellow: enabled ? formatter("\x1b[33m", "\x1b[39m") : String,
	blue: enabled ? formatter("\x1b[34m", "\x1b[39m") : String,
	magenta: enabled ? formatter("\x1b[35m", "\x1b[39m") : String,
	cyan: enabled ? formatter("\x1b[36m", "\x1b[39m") : String,
	white: enabled ? formatter("\x1b[37m", "\x1b[39m") : String,
	gray: enabled ? formatter("\x1b[90m", "\x1b[39m") : String,
	bgBlack: enabled ? formatter("\x1b[40m", "\x1b[49m") : String,
	bgRed: enabled ? formatter("\x1b[41m", "\x1b[49m") : String,
	bgGreen: enabled ? formatter("\x1b[42m", "\x1b[49m") : String,
	bgYellow: enabled ? formatter("\x1b[43m", "\x1b[49m") : String,
	bgBlue: enabled ? formatter("\x1b[44m", "\x1b[49m") : String,
	bgMagenta: enabled ? formatter("\x1b[45m", "\x1b[49m") : String,
	bgCyan: enabled ? formatter("\x1b[46m", "\x1b[49m") : String,
	bgWhite: enabled ? formatter("\x1b[47m", "\x1b[49m") : String,
});

picocolors.exports = createColors();
picocolors.exports.createColors = createColors;

var c = picocolors.exports;

function notNullish(v) {
  return v != null;
}
function slash(str) {
  return str.replace(/\\/g, "/");
}
function mergeSlashes(str) {
  return str.replace(/\/\//g, "/");
}
const noop = () => {
};
function toArray(array) {
  if (array === null || array === void 0)
    array = [];
  if (Array.isArray(array))
    return array;
  return [array];
}
const toString = (v) => Object.prototype.toString.call(v);
const isPlainObject = (val) => toString(val) === "[object Object]";
function isObject(item) {
  return item != null && typeof item === "object" && !Array.isArray(item);
}
function deepMerge(target, ...sources) {
  if (!sources.length)
    return target;
  const source = sources.shift();
  if (source === void 0)
    return target;
  if (isMergableObject(target) && isMergableObject(source)) {
    Object.keys(source).forEach((key) => {
      if (isMergableObject(source[key])) {
        if (!target[key])
          target[key] = {};
        deepMerge(target[key], source[key]);
      } else {
        target[key] = source[key];
      }
    });
  }
  return deepMerge(target, ...sources);
}
function isMergableObject(item) {
  return isPlainObject(item) && !Array.isArray(item);
}
function assertTypes(value, name, types) {
  const receivedType = typeof value;
  const pass = types.includes(receivedType);
  if (!pass)
    throw new TypeError(`${name} value must be ${types.join(" or ")}, received "${receivedType}"`);
}

function getTests(suite) {
  return toArray(suite).flatMap((s) => s.type === "test" ? [s] : s.tasks.flatMap((c) => c.type === "test" ? [c] : getTests(c)));
}
function getSuites(suite) {
  return toArray(suite).flatMap((s) => s.type === "suite" ? [s, ...getSuites(s.tasks)] : []);
}
function hasTests(suite) {
  return toArray(suite).some((s) => s.tasks.some((c) => c.type === "test" || hasTests(c)));
}
function hasFailed(suite) {
  return toArray(suite).some((s) => {
    var _a;
    return ((_a = s.result) == null ? void 0 : _a.state) === "fail" || s.type === "suite" && hasFailed(s.tasks);
  });
}
function hasFailedSnapshot(suite) {
  return getTests(suite).some((s) => {
    var _a, _b;
    const message = (_b = (_a = s.result) == null ? void 0 : _a.error) == null ? void 0 : _b.message;
    return message == null ? void 0 : message.match(/Snapshot .* mismatched/);
  });
}
function getNames(task) {
  const names = [task.name];
  let current = task;
  while ((current == null ? void 0 : current.suite) || (current == null ? void 0 : current.file)) {
    current = current.suite || current.file;
    if (current == null ? void 0 : current.name)
      names.unshift(current.name);
  }
  return names;
}

const isWindows = process.platform === "win32";
function partitionSuiteChildren(suite) {
  let tasksGroup = [];
  const tasksGroups = [];
  for (const c2 of suite.tasks) {
    if (tasksGroup.length === 0 || c2.concurrent === tasksGroup[0].concurrent) {
      tasksGroup.push(c2);
    } else {
      tasksGroups.push(tasksGroup);
      tasksGroup = [c2];
    }
  }
  if (tasksGroup.length > 0)
    tasksGroups.push(tasksGroup);
  return tasksGroups;
}
function getFullName(task) {
  return getNames(task).join(c.dim(" > "));
}
async function ensurePackageInstalled(dependency, promptInstall = !process.env.CI && process.stdout.isTTY) {
  if (isPackageExists(dependency))
    return true;
  process.stderr.write(c.red(`${c.inverse(c.red(" MISSING DEP "))} Can not find dependency '${dependency}'

`));
  if (!promptInstall)
    return false;
  const prompts = await import('./index-072c45fd.js').then(function (n) { return n.i; });
  const { install } = await prompts.prompt({
    type: "confirm",
    name: "install",
    message: c.reset(`Do you want to install ${c.green(dependency)}?`)
  });
  if (install) {
    await (await import('./index-1945a7c3.js')).installPackage(dependency, { dev: true });
    process.stderr.write(c.yellow(`
Package ${dependency} installed, re-run the command to start.
`));
    process.exit(1);
    return true;
  }
  return false;
}
function getCallLastIndex(code) {
  let charIndex = -1;
  let inString = null;
  let startedBracers = 0;
  let endedBracers = 0;
  let beforeChar = null;
  while (charIndex <= code.length) {
    beforeChar = code[charIndex];
    charIndex++;
    const char = code[charIndex];
    const isCharString = char === '"' || char === "'" || char === "`";
    if (isCharString && beforeChar !== "\\") {
      if (inString === char)
        inString = null;
      else if (!inString)
        inString = char;
    }
    if (!inString) {
      if (char === "(")
        startedBracers++;
      if (char === ")")
        endedBracers++;
    }
    if (startedBracers && endedBracers && startedBracers === endedBracers)
      return charIndex;
  }
  return null;
}

export { assertTypes as a, notNullish as b, c, hasFailedSnapshot as d, getSuites as e, getTests as f, getFullName as g, hasFailed as h, isObject as i, deepMerge as j, getCallLastIndex as k, ensurePackageInstalled as l, isWindows as m, noop as n, mergeSlashes as o, getNames as p, partitionSuiteChildren as q, hasTests as r, slash as s, toArray as t };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgtMDEzZWNkZmUuanMiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9waWNvY29sb3JzQDEuMC4wL25vZGVfbW9kdWxlcy9waWNvY29sb3JzL3BpY29jb2xvcnMuanMiLCIuLi9zcmMvdXRpbHMvYmFzZS50cyIsIi4uL3NyYy91dGlscy90YXNrcy50cyIsIi4uL3NyYy91dGlscy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdHR5ID0gcmVxdWlyZShcInR0eVwiKVxuXG5sZXQgaXNDb2xvclN1cHBvcnRlZCA9XG5cdCEoXCJOT19DT0xPUlwiIGluIHByb2Nlc3MuZW52IHx8IHByb2Nlc3MuYXJndi5pbmNsdWRlcyhcIi0tbm8tY29sb3JcIikpICYmXG5cdChcIkZPUkNFX0NPTE9SXCIgaW4gcHJvY2Vzcy5lbnYgfHxcblx0XHRwcm9jZXNzLmFyZ3YuaW5jbHVkZXMoXCItLWNvbG9yXCIpIHx8XG5cdFx0cHJvY2Vzcy5wbGF0Zm9ybSA9PT0gXCJ3aW4zMlwiIHx8XG5cdFx0KHR0eS5pc2F0dHkoMSkgJiYgcHJvY2Vzcy5lbnYuVEVSTSAhPT0gXCJkdW1iXCIpIHx8XG5cdFx0XCJDSVwiIGluIHByb2Nlc3MuZW52KVxuXG5sZXQgZm9ybWF0dGVyID1cblx0KG9wZW4sIGNsb3NlLCByZXBsYWNlID0gb3BlbikgPT5cblx0aW5wdXQgPT4ge1xuXHRcdGxldCBzdHJpbmcgPSBcIlwiICsgaW5wdXRcblx0XHRsZXQgaW5kZXggPSBzdHJpbmcuaW5kZXhPZihjbG9zZSwgb3Blbi5sZW5ndGgpXG5cdFx0cmV0dXJuIH5pbmRleFxuXHRcdFx0PyBvcGVuICsgcmVwbGFjZUNsb3NlKHN0cmluZywgY2xvc2UsIHJlcGxhY2UsIGluZGV4KSArIGNsb3NlXG5cdFx0XHQ6IG9wZW4gKyBzdHJpbmcgKyBjbG9zZVxuXHR9XG5cbmxldCByZXBsYWNlQ2xvc2UgPSAoc3RyaW5nLCBjbG9zZSwgcmVwbGFjZSwgaW5kZXgpID0+IHtcblx0bGV0IHN0YXJ0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBpbmRleCkgKyByZXBsYWNlXG5cdGxldCBlbmQgPSBzdHJpbmcuc3Vic3RyaW5nKGluZGV4ICsgY2xvc2UubGVuZ3RoKVxuXHRsZXQgbmV4dEluZGV4ID0gZW5kLmluZGV4T2YoY2xvc2UpXG5cdHJldHVybiB+bmV4dEluZGV4ID8gc3RhcnQgKyByZXBsYWNlQ2xvc2UoZW5kLCBjbG9zZSwgcmVwbGFjZSwgbmV4dEluZGV4KSA6IHN0YXJ0ICsgZW5kXG59XG5cbmxldCBjcmVhdGVDb2xvcnMgPSAoZW5hYmxlZCA9IGlzQ29sb3JTdXBwb3J0ZWQpID0+ICh7XG5cdGlzQ29sb3JTdXBwb3J0ZWQ6IGVuYWJsZWQsXG5cdHJlc2V0OiBlbmFibGVkID8gcyA9PiBgXFx4MWJbMG0ke3N9XFx4MWJbMG1gIDogU3RyaW5nLFxuXHRib2xkOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMW1cIiwgXCJcXHgxYlsyMm1cIiwgXCJcXHgxYlsyMm1cXHgxYlsxbVwiKSA6IFN0cmluZyxcblx0ZGltOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMm1cIiwgXCJcXHgxYlsyMm1cIiwgXCJcXHgxYlsyMm1cXHgxYlsybVwiKSA6IFN0cmluZyxcblx0aXRhbGljOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbM21cIiwgXCJcXHgxYlsyM21cIikgOiBTdHJpbmcsXG5cdHVuZGVybGluZTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzRtXCIsIFwiXFx4MWJbMjRtXCIpIDogU3RyaW5nLFxuXHRpbnZlcnNlOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbN21cIiwgXCJcXHgxYlsyN21cIikgOiBTdHJpbmcsXG5cdGhpZGRlbjogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzhtXCIsIFwiXFx4MWJbMjhtXCIpIDogU3RyaW5nLFxuXHRzdHJpa2V0aHJvdWdoOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbOW1cIiwgXCJcXHgxYlsyOW1cIikgOiBTdHJpbmcsXG5cdGJsYWNrOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMzBtXCIsIFwiXFx4MWJbMzltXCIpIDogU3RyaW5nLFxuXHRyZWQ6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszMW1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdGdyZWVuOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMzJtXCIsIFwiXFx4MWJbMzltXCIpIDogU3RyaW5nLFxuXHR5ZWxsb3c6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszM21cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdGJsdWU6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszNG1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdG1hZ2VudGE6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszNW1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdGN5YW46IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYlszNm1cIiwgXCJcXHgxYlszOW1cIikgOiBTdHJpbmcsXG5cdHdoaXRlOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbMzdtXCIsIFwiXFx4MWJbMzltXCIpIDogU3RyaW5nLFxuXHRncmF5OiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbOTBtXCIsIFwiXFx4MWJbMzltXCIpIDogU3RyaW5nLFxuXHRiZ0JsYWNrOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDBtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuXHRiZ1JlZDogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQxbVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcblx0YmdHcmVlbjogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQybVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcblx0YmdZZWxsb3c6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls0M21cIiwgXCJcXHgxYls0OW1cIikgOiBTdHJpbmcsXG5cdGJnQmx1ZTogZW5hYmxlZCA/IGZvcm1hdHRlcihcIlxceDFiWzQ0bVwiLCBcIlxceDFiWzQ5bVwiKSA6IFN0cmluZyxcblx0YmdNYWdlbnRhOiBlbmFibGVkID8gZm9ybWF0dGVyKFwiXFx4MWJbNDVtXCIsIFwiXFx4MWJbNDltXCIpIDogU3RyaW5nLFxuXHRiZ0N5YW46IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls0Nm1cIiwgXCJcXHgxYls0OW1cIikgOiBTdHJpbmcsXG5cdGJnV2hpdGU6IGVuYWJsZWQgPyBmb3JtYXR0ZXIoXCJcXHgxYls0N21cIiwgXCJcXHgxYls0OW1cIikgOiBTdHJpbmcsXG59KVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZUNvbG9ycygpXG5tb2R1bGUuZXhwb3J0cy5jcmVhdGVDb2xvcnMgPSBjcmVhdGVDb2xvcnNcbiIsImltcG9ydCB0eXBlIHsgQXJyYXlhYmxlLCBEZWVwTWVyZ2UsIE51bGxhYmxlIH0gZnJvbSAnLi4vdHlwZXMnXG5cbmV4cG9ydCBmdW5jdGlvbiBub3ROdWxsaXNoPFQ+KHY6IFQgfCBudWxsIHwgdW5kZWZpbmVkKTogdiBpcyBOb25OdWxsYWJsZTxUPiB7XG4gIHJldHVybiB2ICE9IG51bGxcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNsYXNoKHN0cjogc3RyaW5nKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXFxcXC9nLCAnLycpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVNsYXNoZXMoc3RyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXC9cXC8vZywgJy8nKVxufVxuXG5leHBvcnQgY29uc3Qgbm9vcCA9ICgpID0+IHsgfVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmU8VD4odmFsOiBUKTogVCB7XG4gIGxldCBrOiBhbnksIG91dDogYW55LCB0bXA6IGFueVxuXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICBvdXQgPSBBcnJheShrID0gdmFsLmxlbmd0aClcbiAgICB3aGlsZSAoay0tKVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbmQtYXNzaWduXG4gICAgICBvdXRba10gPSAodG1wID0gdmFsW2tdKSAmJiB0eXBlb2YgdG1wID09PSAnb2JqZWN0JyA/IGNsb25lKHRtcCkgOiB0bXBcbiAgICByZXR1cm4gb3V0IGFzIGFueVxuICB9XG5cbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgIG91dCA9IHt9IC8vIG51bGxcbiAgICBmb3IgKGsgaW4gdmFsKSB7XG4gICAgICBpZiAoayA9PT0gJ19fcHJvdG9fXycpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG91dCwgaywge1xuICAgICAgICAgIHZhbHVlOiBjbG9uZSgodmFsIGFzIGFueSlba10pLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25kLWFzc2lnblxuICAgICAgICBvdXRba10gPSAodG1wID0gKHZhbCBhcyBhbnkpW2tdKSAmJiB0eXBlb2YgdG1wID09PSAnb2JqZWN0JyA/IGNsb25lKHRtcCkgOiB0bXBcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuLyoqXG4gKiBDb252ZXJ0IGBBcnJheWFibGU8VD5gIHRvIGBBcnJheTxUPmBcbiAqXG4gKiBAY2F0ZWdvcnkgQXJyYXlcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheTxUPihhcnJheT86IE51bGxhYmxlPEFycmF5YWJsZTxUPj4pOiBBcnJheTxUPiB7XG4gIGlmIChhcnJheSA9PT0gbnVsbCB8fCBhcnJheSA9PT0gdW5kZWZpbmVkKVxuICAgIGFycmF5ID0gW11cblxuICBpZiAoQXJyYXkuaXNBcnJheShhcnJheSkpXG4gICAgcmV0dXJuIGFycmF5XG5cbiAgcmV0dXJuIFthcnJheV1cbn1cblxuZXhwb3J0IGNvbnN0IHRvU3RyaW5nID0gKHY6IGFueSkgPT4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHYpXG5leHBvcnQgY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWw6IGFueSk6IHZhbCBpcyBvYmplY3QgPT4gdG9TdHJpbmcodmFsKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGl0ZW06IHVua25vd24pOiBib29sZWFuIHtcbiAgcmV0dXJuIGl0ZW0gIT0gbnVsbCAmJiB0eXBlb2YgaXRlbSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSlcbn1cblxuLyoqXG4gKiBEZWVwIG1lcmdlIDpQXG4gKlxuICogV2lsbCBtZXJnZSBvYmplY3RzIG9ubHkgaWYgdGhleSBhcmUgcGxhaW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZXBNZXJnZTxUIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0LCBTIGV4dGVuZHMgb2JqZWN0ID0gVD4odGFyZ2V0OiBULCAuLi5zb3VyY2VzOiBTW10pOiBEZWVwTWVyZ2U8VCwgUz4ge1xuICBpZiAoIXNvdXJjZXMubGVuZ3RoKVxuICAgIHJldHVybiB0YXJnZXQgYXMgYW55XG5cbiAgY29uc3Qgc291cmNlID0gc291cmNlcy5zaGlmdCgpXG4gIGlmIChzb3VyY2UgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gdGFyZ2V0IGFzIGFueVxuXG4gIGlmIChpc01lcmdhYmxlT2JqZWN0KHRhcmdldCkgJiYgaXNNZXJnYWJsZU9iamVjdChzb3VyY2UpKSB7XG4gICAgKE9iamVjdC5rZXlzKHNvdXJjZSkgYXMgKGtleW9mIFMgJiBrZXlvZiBUKVtdKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChpc01lcmdhYmxlT2JqZWN0KHNvdXJjZVtrZXldKSkge1xuICAgICAgICBpZiAoIXRhcmdldFtrZXldKVxuICAgICAgICAgIHRhcmdldFtrZXldID0ge30gYXMgYW55XG5cbiAgICAgICAgZGVlcE1lcmdlKHRhcmdldFtrZXldIGFzIGFueSwgc291cmNlW2tleV0gYXMgYW55KVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV0gYXMgYW55XG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiBkZWVwTWVyZ2UodGFyZ2V0LCAuLi5zb3VyY2VzKVxufVxuXG5mdW5jdGlvbiBpc01lcmdhYmxlT2JqZWN0KGl0ZW06IGFueSk6IGl0ZW0gaXMgT2JqZWN0IHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoaXRlbSkgJiYgIUFycmF5LmlzQXJyYXkoaXRlbSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFR5cGVzKHZhbHVlOiB1bmtub3duLCBuYW1lOiBzdHJpbmcsIHR5cGVzOiBzdHJpbmdbXSk6IHZvaWQge1xuICBjb25zdCByZWNlaXZlZFR5cGUgPSB0eXBlb2YgdmFsdWVcbiAgY29uc3QgcGFzcyA9IHR5cGVzLmluY2x1ZGVzKHJlY2VpdmVkVHlwZSlcbiAgaWYgKCFwYXNzKSB0aHJvdyBuZXcgVHlwZUVycm9yKGAke25hbWV9IHZhbHVlIG11c3QgYmUgJHt0eXBlcy5qb2luKCcgb3IgJyl9LCByZWNlaXZlZCBcIiR7cmVjZWl2ZWRUeXBlfVwiYClcbn1cbiIsImltcG9ydCB0eXBlIHsgQXJyYXlhYmxlLCBTdWl0ZSwgVGFzaywgVGVzdCB9IGZyb20gJy4uL3R5cGVzJ1xuaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vYmFzZSdcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRlc3RzKHN1aXRlOiBBcnJheWFibGU8VGFzaz4pOiBUZXN0W10ge1xuICByZXR1cm4gdG9BcnJheShzdWl0ZSkuZmxhdE1hcChzID0+IHMudHlwZSA9PT0gJ3Rlc3QnID8gW3NdIDogcy50YXNrcy5mbGF0TWFwKGMgPT4gYy50eXBlID09PSAndGVzdCcgPyBbY10gOiBnZXRUZXN0cyhjKSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUYXNrcyh0YXNrczogQXJyYXlhYmxlPFRhc2s+ID0gW10pOiBUYXNrW10ge1xuICByZXR1cm4gdG9BcnJheSh0YXNrcykuZmxhdE1hcChzID0+IHMudHlwZSA9PT0gJ3Rlc3QnID8gW3NdIDogW3MsIC4uLmdldFRhc2tzKHMudGFza3MpXSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN1aXRlcyhzdWl0ZTogQXJyYXlhYmxlPFRhc2s+KTogU3VpdGVbXSB7XG4gIHJldHVybiB0b0FycmF5KHN1aXRlKS5mbGF0TWFwKHMgPT4gcy50eXBlID09PSAnc3VpdGUnID8gW3MsIC4uLmdldFN1aXRlcyhzLnRhc2tzKV0gOiBbXSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1Rlc3RzKHN1aXRlOiBBcnJheWFibGU8U3VpdGU+KTogYm9vbGVhbiB7XG4gIHJldHVybiB0b0FycmF5KHN1aXRlKS5zb21lKHMgPT4gcy50YXNrcy5zb21lKGMgPT4gYy50eXBlID09PSAndGVzdCcgfHwgaGFzVGVzdHMoYyBhcyBTdWl0ZSkpKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzRmFpbGVkKHN1aXRlOiBBcnJheWFibGU8VGFzaz4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHRvQXJyYXkoc3VpdGUpLnNvbWUocyA9PiBzLnJlc3VsdD8uc3RhdGUgPT09ICdmYWlsJyB8fCAocy50eXBlID09PSAnc3VpdGUnICYmIGhhc0ZhaWxlZChzLnRhc2tzKSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNGYWlsZWRTbmFwc2hvdChzdWl0ZTogQXJyYXlhYmxlPFRhc2s+KTogYm9vbGVhbiB7XG4gIHJldHVybiBnZXRUZXN0cyhzdWl0ZSkuc29tZSgocykgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBzLnJlc3VsdD8uZXJyb3I/Lm1lc3NhZ2VcbiAgICByZXR1cm4gbWVzc2FnZT8ubWF0Y2goL1NuYXBzaG90IC4qIG1pc21hdGNoZWQvKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZXModGFzazogVGFzaykge1xuICBjb25zdCBuYW1lcyA9IFt0YXNrLm5hbWVdXG4gIGxldCBjdXJyZW50OiBUYXNrIHwgdW5kZWZpbmVkID0gdGFza1xuXG4gIHdoaWxlIChjdXJyZW50Py5zdWl0ZSB8fCBjdXJyZW50Py5maWxlKSB7XG4gICAgY3VycmVudCA9IGN1cnJlbnQuc3VpdGUgfHwgY3VycmVudC5maWxlXG4gICAgaWYgKGN1cnJlbnQ/Lm5hbWUpXG4gICAgICBuYW1lcy51bnNoaWZ0KGN1cnJlbnQubmFtZSlcbiAgfVxuXG4gIHJldHVybiBuYW1lc1xufVxuIiwiaW1wb3J0IGMgZnJvbSAncGljb2NvbG9ycydcbmltcG9ydCB7IGlzUGFja2FnZUV4aXN0cyB9IGZyb20gJ2xvY2FsLXBrZydcbmltcG9ydCB7IHJlc29sdmUgfSBmcm9tICdwYXRoZSdcbmltcG9ydCB0eXBlIHsgU3VpdGUsIFRhc2sgfSBmcm9tICcuLi90eXBlcydcbmltcG9ydCB7IGdldE5hbWVzIH0gZnJvbSAnLi90YXNrcydcblxuZXhwb3J0ICogZnJvbSAnLi90YXNrcydcbmV4cG9ydCAqIGZyb20gJy4vcGF0aCdcbmV4cG9ydCAqIGZyb20gJy4vYmFzZSdcblxuZXhwb3J0IGNvbnN0IGlzV2luZG93cyA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMidcblxuLyoqXG4gKiBQYXJ0aXRpb24gaW4gdGFza3MgZ3JvdXBzIGJ5IGNvbnNlY3V0aXZlIGNvbmN1cnJlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpdGlvblN1aXRlQ2hpbGRyZW4oc3VpdGU6IFN1aXRlKSB7XG4gIGxldCB0YXNrc0dyb3VwOiBUYXNrW10gPSBbXVxuICBjb25zdCB0YXNrc0dyb3VwczogVGFza1tdW10gPSBbXVxuICBmb3IgKGNvbnN0IGMgb2Ygc3VpdGUudGFza3MpIHtcbiAgICBpZiAodGFza3NHcm91cC5sZW5ndGggPT09IDAgfHwgYy5jb25jdXJyZW50ID09PSB0YXNrc0dyb3VwWzBdLmNvbmN1cnJlbnQpIHtcbiAgICAgIHRhc2tzR3JvdXAucHVzaChjKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRhc2tzR3JvdXBzLnB1c2godGFza3NHcm91cClcbiAgICAgIHRhc2tzR3JvdXAgPSBbY11cbiAgICB9XG4gIH1cbiAgaWYgKHRhc2tzR3JvdXAubGVuZ3RoID4gMClcbiAgICB0YXNrc0dyb3Vwcy5wdXNoKHRhc2tzR3JvdXApXG5cbiAgcmV0dXJuIHRhc2tzR3JvdXBzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdWxsTmFtZSh0YXNrOiBUYXNrKSB7XG4gIHJldHVybiBnZXROYW1lcyh0YXNrKS5qb2luKGMuZGltKCcgPiAnKSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuc3VyZVBhY2thZ2VJbnN0YWxsZWQoXG4gIGRlcGVuZGVuY3k6IHN0cmluZyxcbiAgcHJvbXB0SW5zdGFsbCA9ICFwcm9jZXNzLmVudi5DSSAmJiBwcm9jZXNzLnN0ZG91dC5pc1RUWSxcbikge1xuICBpZiAoaXNQYWNrYWdlRXhpc3RzKGRlcGVuZGVuY3kpKVxuICAgIHJldHVybiB0cnVlXG5cbiAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoYy5yZWQoYCR7Yy5pbnZlcnNlKGMucmVkKCcgTUlTU0lORyBERVAgJykpfSBDYW4gbm90IGZpbmQgZGVwZW5kZW5jeSAnJHtkZXBlbmRlbmN5fSdcXG5cXG5gKSlcblxuICBpZiAoIXByb21wdEluc3RhbGwpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgY29uc3QgcHJvbXB0cyA9IGF3YWl0IGltcG9ydCgncHJvbXB0cycpXG4gIGNvbnN0IHsgaW5zdGFsbCB9ID0gYXdhaXQgcHJvbXB0cy5wcm9tcHQoe1xuICAgIHR5cGU6ICdjb25maXJtJyxcbiAgICBuYW1lOiAnaW5zdGFsbCcsXG4gICAgbWVzc2FnZTogYy5yZXNldChgRG8geW91IHdhbnQgdG8gaW5zdGFsbCAke2MuZ3JlZW4oZGVwZW5kZW5jeSl9P2ApLFxuICB9KVxuXG4gIGlmIChpbnN0YWxsKSB7XG4gICAgYXdhaXQgKGF3YWl0IGltcG9ydCgnQGFudGZ1L2luc3RhbGwtcGtnJykpLmluc3RhbGxQYWNrYWdlKGRlcGVuZGVuY3ksIHsgZGV2OiB0cnVlIH0pXG4gICAgLy8gVE9ETzogc29tZWhvdyBpdCBmYWlscyB0byBsb2FkIHRoZSBwYWNrYWdlIGFmdGVyIGluc3RhbGxhdGlvbiwgcmVtb3ZlIHRoaXMgd2hlbiBpdCdzIGZpeGVkXG4gICAgcHJvY2Vzcy5zdGRlcnIud3JpdGUoYy55ZWxsb3coYFxcblBhY2thZ2UgJHtkZXBlbmRlbmN5fSBpbnN0YWxsZWQsIHJlLXJ1biB0aGUgY29tbWFuZCB0byBzdGFydC5cXG5gKSlcbiAgICBwcm9jZXNzLmV4aXQoMSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qKlxuICogSWYgY29kZSBzdGFydHMgd2l0aCBhIGZ1bmN0aW9uIGNhbGwsIHdpbGwgcmV0dXJuIGl0cyBsYXN0IGluZGV4LCByZXNwZWN0aW5nIGFyZ3VtZW50cy5cbiAqIFRoaXMgd2lsbCByZXR1cm4gMjUgLSBsYXN0IGVuZGluZyBjaGFyYWN0ZXIgb2YgdG9NYXRjaCBcIilcIlxuICogQWxzbyB3b3JrcyB3aXRoIGNhbGxiYWNrc1xuICogYGBgXG4gKiB0b01hdGNoKHsgdGVzdDogJzEyMycgfSk7XG4gKiB0b0JlQWxpYXNlZCgnMTIzJylcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FsbExhc3RJbmRleChjb2RlOiBzdHJpbmcpIHtcbiAgbGV0IGNoYXJJbmRleCA9IC0xXG4gIGxldCBpblN0cmluZzogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgbGV0IHN0YXJ0ZWRCcmFjZXJzID0gMFxuICBsZXQgZW5kZWRCcmFjZXJzID0gMFxuICBsZXQgYmVmb3JlQ2hhcjogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgd2hpbGUgKGNoYXJJbmRleCA8PSBjb2RlLmxlbmd0aCkge1xuICAgIGJlZm9yZUNoYXIgPSBjb2RlW2NoYXJJbmRleF1cbiAgICBjaGFySW5kZXgrK1xuICAgIGNvbnN0IGNoYXIgPSBjb2RlW2NoYXJJbmRleF1cblxuICAgIGNvbnN0IGlzQ2hhclN0cmluZyA9IGNoYXIgPT09ICdcIicgfHwgY2hhciA9PT0gJ1xcJycgfHwgY2hhciA9PT0gJ2AnXG5cbiAgICBpZiAoaXNDaGFyU3RyaW5nICYmIGJlZm9yZUNoYXIgIT09ICdcXFxcJykge1xuICAgICAgaWYgKGluU3RyaW5nID09PSBjaGFyKVxuICAgICAgICBpblN0cmluZyA9IG51bGxcbiAgICAgIGVsc2UgaWYgKCFpblN0cmluZylcbiAgICAgICAgaW5TdHJpbmcgPSBjaGFyXG4gICAgfVxuXG4gICAgaWYgKCFpblN0cmluZykge1xuICAgICAgaWYgKGNoYXIgPT09ICcoJylcbiAgICAgICAgc3RhcnRlZEJyYWNlcnMrK1xuICAgICAgaWYgKGNoYXIgPT09ICcpJylcbiAgICAgICAgZW5kZWRCcmFjZXJzKytcbiAgICB9XG5cbiAgICBpZiAoc3RhcnRlZEJyYWNlcnMgJiYgZW5kZWRCcmFjZXJzICYmIHN0YXJ0ZWRCcmFjZXJzID09PSBlbmRlZEJyYWNlcnMpXG4gICAgICByZXR1cm4gY2hhckluZGV4XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuZXhwb3J0IHsgcmVzb2x2ZSBhcyByZXNvbHZlUGF0aCB9XG4iXSwibmFtZXMiOlsicGljb2NvbG9yc01vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFJLEdBQUcsR0FBRyxXQUFjO0FBQ3hCO0FBQ0EsSUFBSSxnQkFBZ0I7QUFDcEIsQ0FBQyxFQUFFLFVBQVUsSUFBSSxPQUFPLENBQUMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3BFLEVBQUUsYUFBYSxJQUFJLE9BQU8sQ0FBQyxHQUFHO0FBQzlCLEVBQUUsT0FBTyxDQUFDLElBQUks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QUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzVELENBQUMsTUFBTSxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDN0QsQ0FBQyxJQUFJLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUMzRCxDQUFDLE9BQU8sRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzlELENBQUMsSUFBSSxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDM0QsQ0FBQyxLQUFLLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUM1RCxDQUFDLElBQUksRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzNELENBQUMsT0FBTyxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDOUQsQ0FBQyxLQUFLLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUM1RCxDQUFDLE9BQU8sRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFNO0FBQzlELENBQUMsUUFBUSxFQUFFLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLE1BQU07QUFDL0QsQ0FBQyxNQUFNLEVBQUUsT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsTUFBTTtBQUM3RCxDQUFDLFNBQVMsRUFBRSxPQUFPLEdBQUcsU0FBUyxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsR0FBRyxNQUFN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
